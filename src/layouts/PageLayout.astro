---
import BaseLayout from './BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import WhatsAppButton from '../components/ui/WhatsAppButton.astro';
import ContactModal from '../components/forms/ContactModal.astro';

interface Props {
  title: string;
  description?: string;
  showFloatingWidget?: boolean;
}

const { title, description, showFloatingWidget = false } = Astro.props;
const currentPath = Astro.url.pathname;
---

<BaseLayout title={title} description={description}>
  <Header currentPath={currentPath} />

  <main id="main-content">
    <slot />
  </main>

  <Footer />

  <!-- WhatsApp floating button on all pages -->
  <WhatsAppButton />

  <!-- Contact Modal for "Agendar cita" buttons -->
  <ContactModal />

  {showFloatingWidget && (
    <slot name="floating-widget" />
  )}
</BaseLayout>
